<script type="module">
  const canvas = document.getElementById("tutorial");
  const ctx = canvas.getContext("2d");
  const aim = new Image();

  aim.src = "target.webp";
  // random change
  let shoot = false;
  document.addEventListener("mousemove", move);
  function move(e) {
    ctx.clearRect(0, 0, 700, 700);
    ctx.drawImage(aim, e.clientX - 25, e.clientY - 25, 30, 30);

    if (shoot === true) {
      darts.dart1.x = e.clientX;
      darts.dart1.y = e.clientY;
      shoot = false;
    }
  }

  function loop(now) {
    requestAnimationFrame(loop);

    move("mousemove");
    ctx.fillRect(darts.dart1.x - 15, darts.dart1.y - 15, 10, 10);

    ctx.arc(75, 75, 50, 0, Math.PI * 2, true); // Outer circle
    
    ctx.arc(75, 75, 30, 0, Math.PI * 2, true);
    
    
  }
  requestAnimationFrame(loop);
  let value = Number(localStorage.getItem("myNumber") || "0");

  let darts = {
    dart1: { x: 0, y: 0 },
    dart2: { x: 0, y: 0 },
    dart3: { x: 0, y: 0 },
    dart3: { x: 0, y: 0 },
    dart4: { x: 0, y: 0 },
  };
  addEventListener("keydown", (event) => {
    switch (event.key) {
      case " ": {
        shoot = true;
      }
    }
  });
  addEventListener("mousedown", (event) => {});

  onmousedown = (event) => {
    shoot = true;
  };
</script>

<style>
  canvas {
    cursor: none;
  }
</style>

<canvas id="tutorial" width="700" height="700"> </canvas>
